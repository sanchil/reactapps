{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppContext } from '../../state/appcntxt';\nimport { clipImage } from '../../lib/utils';\nimport { ImgCloud } from './components';\nconst useCnvStyles = makeStyles(theme => ({\n  rootcontainer: {\n    boxSizing: 'border-box',\n    position: 'relative',\n    display: 'flex',\n    flex: 'auto',\n    flexFlow: 'row wrap',\n    width: '100%',\n    maxWidth: '100%',\n    height: '100%' //  cursor:'pointer',\n    //  padding:20,\n\n  },\n  img: {\n    [theme.breakpoints.up('xs')]: {\n      borderTopRightRadius: props => props.position === \"topleft\" || props.position === \"all\" ? 15 : 0,\n      borderTopLeftRadius: props => props.position === \"topleft\" || props.position === \"all\" ? 15 : 0,\n      borderBottomRightRadius: props => props.position === \"bottomright\" || props.position === \"all\" ? 15 : 0,\n      borderBottomLeftRadius: props => props.position === \"bottomright\" || props.position === \"all\" ? 15 : 0\n    },\n    [theme.breakpoints.up('md')]: {\n      borderTopRightRadius: props => props.position === \"topright\" || props.position === \"top\" || props.position === \"topbottom\" || props.position === \"all\" ? 15 : 0,\n      borderTopLeftRadius: props => props.position === \"topleft\" || props.position === \"top\" || props.position === \"topbottom\" || props.position === \"all\" ? 15 : 0,\n      borderBottomRightRadius: props => props.position === \"bottomright\" || props.position === \"topbottom\" || props.position === \"all\" ? 15 : 0,\n      borderBottomLeftRadius: props => props.position === \"bottomleft\" || props.position === \"topbottom\" || props.position === \"all\" ? 15 : 0\n    },\n    position: 'relative',\n    boxSizing: 'border-box',\n    //\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover'\n  }\n}));\nexport const Cnv = props => {\n  const classes = useCnvStyles(props);\n  const {\n    appstate,\n    dispatch\n  } = useContext(AppContext);\n  const {\n    0: dataUrl,\n    1: setDataUrl\n  } = useState(null);\n  useEffect(() => {\n    let abortController = new AbortController();\n    clipImage(props.w, props.h, props.src, {\n      signal: abortController.signal\n    }).then(dataurl => setDataUrl(dataurl)).catch(err => console.log(\"Image load error: \" + err.message));\n    return () => {\n      abortController.abort();\n    };\n  });\n\n  const handleOverLay = evt => {\n    dispatch({\n      type: 'OVERLAY',\n      data: true\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: classes.rootcontainer\n  }, __jsx(\"img\", {\n    src: dataUrl,\n    className: classes.img\n  }), props.overlay ? props.children : \"\");\n};\nconst useCnvCloudStyles = makeStyles(theme => ({\n  rootcontainer: {\n    boxSizing: 'border-box',\n    position: 'relative',\n    display: 'flex',\n    flex: 'auto',\n    flexFlow: 'row wrap',\n    width: '100%',\n    maxWidth: '100%',\n    height: '100%' //  cursor:'pointer',\n    //  padding:20,\n\n  },\n  img: {\n    [theme.breakpoints.up('xs')]: {\n      borderTopRightRadius: props => props.position === \"topleft\" || props.position === \"all\" ? 15 : 0,\n      borderTopLeftRadius: props => props.position === \"topleft\" || props.position === \"all\" ? 15 : 0,\n      borderBottomRightRadius: props => props.position === \"bottomright\" || props.position === \"all\" ? 15 : 0,\n      borderBottomLeftRadius: props => props.position === \"bottomright\" || props.position === \"all\" ? 15 : 0\n    },\n    [theme.breakpoints.up('md')]: {\n      borderTopRightRadius: props => props.position === \"topright\" || props.position === \"top\" || props.position === \"topbottom\" || props.position === \"all\" ? 15 : 0,\n      borderTopLeftRadius: props => props.position === \"topleft\" || props.position === \"top\" || props.position === \"topbottom\" || props.position === \"all\" ? 15 : 0,\n      borderBottomRightRadius: props => props.position === \"bottomright\" || props.position === \"topbottom\" || props.position === \"all\" ? 15 : 0,\n      borderBottomLeftRadius: props => props.position === \"bottomleft\" || props.position === \"topbottom\" || props.position === \"all\" ? 15 : 0\n    },\n    position: 'relative',\n    boxSizing: 'border-box',\n    //\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover'\n  }\n}));\nexport const CnvCloud = props => {\n  const classes = useCnvCloudStyles(props);\n  const {\n    appstate,\n    dispatch\n  } = useContext(AppContext);\n  const {\n    0: cloudUrl,\n    1: setCloudUrl\n  } = useState('');\n  const homeImagesUrl = props.src; //   console.log('Home images url: '+  homeImagesUrl);\n  //     console.log('Cloud URL ::: '+typeof cloudUrl + '::'+ JSON.stnrigify(cloudUrl));\n\n  useEffect(() => {\n    /*\n     if (homeImagesUrl.constructor.name === 'Promise') {\n        homeImagesUrl\n            .then(url => {\n               // console.log('Then url: ' + url);\n                setCloudUrl(url + '');\n            }).\n            catch(err => {\n                console.log('Error found: ' + err.message);\n                //  setCloudUrl('');\n            })\n    }else{\n     console.log('Then string url: ' + homeImagesUrl);\n        setCloudUrl(homeImagesUrl);\n    } */\n    setCloudUrl(homeImagesUrl);\n  }, [homeImagesUrl]);\n\n  const handleOverLay = evt => {\n    dispatch({\n      type: 'OVERLAY',\n      data: true\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: classes.rootcontainer\n  }, __jsx(ImgCloud, {\n    gravity: props.gravity,\n    src: cloudUrl,\n    w: props.w,\n    h: props.h,\n    className: classes.img\n  }), props.overlay ? props.children : \"\");\n};\nexport const _CnvCloud = props => {\n  const classes = useCnvCloudStyles(props);\n  const {\n    appstate,\n    dispatch\n  } = useContext(AppContext);\n  const {\n    0: cloudUrl,\n    1: setCloudUrl\n  } = useState('');\n  const homeImagesUrl = props.src; //  console.log('Home images url: '+  homeImagesUrl);\n  //    console.log('Cloud URL ::: '+typeof cloudUrl + '::'+ JSON.stringify(cloudUrl));\n\n  useEffect(() => {\n    homeImagesUrl.then(url => {\n      // console.log('Then url: '+url);\n      setCloudUrl(url + '');\n    }).catch(err => {\n      console.log('Error found: ' + err.message); //  setCloudUrl('');\n    });\n  }, [homeImagesUrl]);\n  /*    const [dataUrl, setDataUrl] = useState(null);\n         useEffect(() => {\n         let abortController = new AbortController();\n             clipImage(props.w, props.h, props.src,{signal:abortController.signal})\n             .then(dataurl => setDataUrl(dataurl))\n             .catch(err => console.log(\"Image load error: \" + err.message));\n     \n         return ()=>{\n             abortController.abort();\n         }\n         });\n  */\n\n  const handleOverLay = evt => {\n    dispatch({\n      type: 'OVERLAY',\n      data: true\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: classes.rootcontainer\n  }, __jsx(ImgCloud, {\n    src: cloudUrl,\n    className: classes.img\n  }), props.overlay ? props.children : \"\");\n};","map":{"version":3,"sources":["/home/azure/spaces/reactapps/agt_basic/src/app/components/cnvimg/index.js"],"names":["React","useContext","useState","useEffect","makeStyles","AppContext","clipImage","ImgCloud","useCnvStyles","theme","rootcontainer","boxSizing","position","display","flex","flexFlow","width","maxWidth","height","img","breakpoints","up","borderTopRightRadius","props","borderTopLeftRadius","borderBottomRightRadius","borderBottomLeftRadius","objectFit","Cnv","classes","appstate","dispatch","dataUrl","setDataUrl","abortController","AbortController","w","h","src","signal","then","dataurl","catch","err","console","log","message","abort","handleOverLay","evt","type","data","overlay","children","useCnvCloudStyles","CnvCloud","cloudUrl","setCloudUrl","homeImagesUrl","gravity","_CnvCloud","url"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { Box, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { amber } from '@material-ui/core/colors';\nimport theme from '../../theme';\nimport { AppContext } from '../../state/appcntxt';\nimport HotelOutlinedIcon from '@material-ui/icons/HotelOutlined';\nimport BathtubOutlinedIcon from '@material-ui/icons/BathtubOutlined';\nimport RestaurantMenuOutlinedIcon from '@material-ui/icons/RestaurantMenuOutlined';\nimport DriveEtaIcon from '@material-ui/icons/DriveEta';\nimport { clipImage } from '../../lib/utils';\nimport { ImgCloud } from './components';\n\n\n\nconst useCnvStyles = makeStyles(theme => ({\n\n    rootcontainer: {\n        boxSizing: 'border-box',\n        position: 'relative',\n        display: 'flex',\n        flex: 'auto',\n        flexFlow: 'row wrap',\n        width: '100%',\n        maxWidth: '100%',\n        height: '100%',\n        //  cursor:'pointer',\n        //  padding:20,\n    },\n    img: {\n        [theme.breakpoints.up('xs')]: {\n            borderTopRightRadius: props => (\n                props.position === \"topleft\"\n                || props.position === \"all\") ? 15 : 0,\n            borderTopLeftRadius: props => (\n                props.position === \"topleft\"\n                || props.position === \"all\") ? 15 : 0,\n            borderBottomRightRadius: props => (\n                props.position === \"bottomright\"\n                || props.position === \"all\") ? 15 : 0,\n            borderBottomLeftRadius: props => (\n                props.position === \"bottomright\"\n                || props.position === \"all\") ? 15 : 0,\n\n        },\n        [theme.breakpoints.up('md')]: {\n            borderTopRightRadius: props => (\n                props.position === \"topright\"\n                || props.position === \"top\"\n                || props.position === \"topbottom\"\n                || props.position === \"all\") ? 15 : 0,\n            borderTopLeftRadius: props => (\n                props.position === \"topleft\"\n                || props.position === \"top\"\n                || props.position === \"topbottom\"\n                || props.position === \"all\") ? 15 : 0,\n            borderBottomRightRadius: props => (\n                props.position === \"bottomright\"\n                || props.position === \"topbottom\"\n                || props.position === \"all\") ? 15 : 0,\n            borderBottomLeftRadius: props => (\n                props.position === \"bottomleft\"\n                || props.position === \"topbottom\"\n                || props.position === \"all\") ? 15 : 0,\n\n        },\n        position: 'relative',\n        boxSizing: 'border-box',//\n        width: '100%',\n        height: '100%',\n        objectFit: 'cover',\n\n    },\n\n\n}));\n\nexport const Cnv = (props) => {\n    const classes = useCnvStyles(props);\n    const { appstate, dispatch } = useContext(AppContext);\n\n\n    const [dataUrl, setDataUrl] = useState(null);\n\n    useEffect(() => {\n        let abortController = new AbortController();\n\n        clipImage(props.w, props.h, props.src, { signal: abortController.signal })\n            .then(dataurl => setDataUrl(dataurl))\n            .catch(err => console.log(\"Image load error: \" + err.message));\n\n        return () => {\n            abortController.abort();\n        }\n\n    });\n\n\n    const handleOverLay = evt => {\n        dispatch({ type: 'OVERLAY', data: true })\n    }\n\n    return (\n        <div className={classes.rootcontainer} >\n            <img src={dataUrl} className={classes.img} />\n\n            {\n                props.overlay ? (\n                    props.children\n                )\n                    :\n                    \"\"\n            }\n        </div>\n    )\n\n}\n\n\nconst useCnvCloudStyles = makeStyles(theme => ({\n\n    rootcontainer: {\n        boxSizing: 'border-box',\n        position: 'relative',\n        display: 'flex',\n        flex: 'auto',\n        flexFlow: 'row wrap',\n        width: '100%',\n        maxWidth: '100%',\n        height: '100%',\n        //  cursor:'pointer',\n        //  padding:20,\n    },\n    img: {\n        [theme.breakpoints.up('xs')]: {\n            borderTopRightRadius: props => (\n                props.position === \"topleft\"\n                || props.position === \"all\") ? 15 : 0,\n            borderTopLeftRadius: props => (\n                props.position === \"topleft\"\n                || props.position === \"all\") ? 15 : 0,\n            borderBottomRightRadius: props => (\n                props.position === \"bottomright\"\n                || props.position === \"all\") ? 15 : 0,\n            borderBottomLeftRadius: props => (\n                props.position === \"bottomright\"\n                || props.position === \"all\") ? 15 : 0,\n\n        },\n        [theme.breakpoints.up('md')]: {\n            borderTopRightRadius: props => (\n                props.position === \"topright\"\n                || props.position === \"top\"\n                || props.position === \"topbottom\"\n                || props.position === \"all\") ? 15 : 0,\n            borderTopLeftRadius: props => (\n                props.position === \"topleft\"\n                || props.position === \"top\"\n                || props.position === \"topbottom\"\n                || props.position === \"all\") ? 15 : 0,\n            borderBottomRightRadius: props => (\n                props.position === \"bottomright\"\n                || props.position === \"topbottom\"\n                || props.position === \"all\") ? 15 : 0,\n            borderBottomLeftRadius: props => (\n                props.position === \"bottomleft\"\n                || props.position === \"topbottom\"\n                || props.position === \"all\") ? 15 : 0,\n\n        },\n        position: 'relative',\n        boxSizing: 'border-box',//\n        width: '100%',\n        height: '100%',\n        objectFit: 'cover',\n\n    },\n\n\n}));\n\n\n\nexport const CnvCloud = (props) => {\n    const classes = useCnvCloudStyles(props);\n    const { appstate, dispatch } = useContext(AppContext);\n    const [cloudUrl, setCloudUrl] = useState('');\n    const homeImagesUrl = props.src;\n    //   console.log('Home images url: '+  homeImagesUrl);\n    //     console.log('Cloud URL ::: '+typeof cloudUrl + '::'+ JSON.stnrigify(cloudUrl));\n\n    useEffect(() => {\n        /*\n         if (homeImagesUrl.constructor.name === 'Promise') {\n            homeImagesUrl\n                .then(url => {\n                   // console.log('Then url: ' + url);\n                    setCloudUrl(url + '');\n                }).\n                catch(err => {\n                    console.log('Error found: ' + err.message);\n                    //  setCloudUrl('');\n                })\n        }else{\n         console.log('Then string url: ' + homeImagesUrl);\n            setCloudUrl(homeImagesUrl);\n        } */\n\n        setCloudUrl(homeImagesUrl);\n\n\n    }, [homeImagesUrl]);\n\n\n    const handleOverLay = evt => {\n        dispatch({ type: 'OVERLAY', data: true })\n    }\n\n    return (\n        <div className={classes.rootcontainer} >\n            {/* <img src={dataUrl} className={classes.img} /> */}\n            <ImgCloud gravity={props.gravity} src={cloudUrl} w={props.w} h={props.h} className={classes.img} />\n            {\n                props.overlay ? (\n                    props.children\n                )\n                    :\n                    \"\"\n            }\n        </div>\n    )\n\n}\n\n\n\nexport const _CnvCloud = (props) => {\n    const classes = useCnvCloudStyles(props);\n    const { appstate, dispatch } = useContext(AppContext);\n    const [cloudUrl, setCloudUrl] = useState('');\n    const homeImagesUrl = props.src;\n    //  console.log('Home images url: '+  homeImagesUrl);\n    //    console.log('Cloud URL ::: '+typeof cloudUrl + '::'+ JSON.stringify(cloudUrl));\n\n    useEffect(() => {\n        homeImagesUrl\n            .then(url => {\n                // console.log('Then url: '+url);\n                setCloudUrl(url + '');\n            }).\n            catch(err => {\n                console.log('Error found: ' + err.message);\n                //  setCloudUrl('');\n            })\n\n    }, [homeImagesUrl]);\n\n\n    /*    const [dataUrl, setDataUrl] = useState(null);\n   \n       useEffect(() => {\n           let abortController = new AbortController();\n   \n           clipImage(props.w, props.h, props.src,{signal:abortController.signal})\n               .then(dataurl => setDataUrl(dataurl))\n               .catch(err => console.log(\"Image load error: \" + err.message));\n       \n           return ()=>{\n               abortController.abort();\n           }\n   \n       });\n    */\n\n    const handleOverLay = evt => {\n        dispatch({ type: 'OVERLAY', data: true })\n    }\n\n    return (\n        <div className={classes.rootcontainer} >\n            {/* <img src={dataUrl} className={classes.img} /> */}\n            <ImgCloud src={cloudUrl} className={classes.img} />\n            {\n                props.overlay ? (\n                    props.children\n                )\n                    :\n                    \"\"\n            }\n        </div>\n    )\n\n}\n"]},"metadata":{},"sourceType":"module"}